### <a name="_b7urdng99y53"></a>**Название задачи:** Открытие депозитов online
### <a name="_hjk0fkfyohdk"></a>**Автор:** Перцев А.В.
### <a name="_uanumrh8zrui"></a>**Дата:** 18.06.2025
### <a name="_3bfxc9a45514"></a>**Функциональные требования**

|**№**|**Действующие лица или системы**|**Use Case**|**Описание**|
| :-: | :- | :- | :- |
| UC1 | Клиент, Сайта | Подача заявки на депозит | 1. Пользователь просматривает список доступных депозитов с актуальными ставками.  <br>2. Пользователь заполняет форму заявки по выбранному депозиту, вводит свои ФИО и телефон. Отправляет заявку. |
| UC2 | Сайт, Кол-центр, Менеджер кол-центра, Клиент, АБС | Обработка заявки в кол-центре | 1. Заявка на депозит с сайта передается в кол-центр. <br>2. Менеджер кол-центра изучает заявку. <br>3. Менеджер кол-центра звонит клиенту, предлагает возможные особые условия открытия депозита, приглашает в офис. <br>4. Заявка передается в АБС.|
| UC3 | Клиент, Интернет-банк, СМС-шлюз, АБС | Подача заявки на депозит | 1. Клиент в системе Интернет-банк переходит на страницу депозитов. <br>2. Клиент видит список актуальных депозитов и персонализированные ставки. <br>3. Клиент выбирает подходящий депозит, вводит сумму будущего депозита, нажимает кнопку подачи заявки. <br>4. Интернет банк через СМС-шлюз отправляет на телефон клиента код подтверждения. <br> 5. Клиент вводит полученный код в поле подтверждения заявки в системе Интернет-банк. <br>6. При правильном коде заявка успешно создается и передается в АБС |
| UC4 | Менеджер кредитного бэк-офиса, менеджер депозитного бэк-офиса, АБС, СМС-шлюз | Обработка заявки на депозит | 1. Менеджер депозитного бэк-офиса проводит первичную проверку новой заявки в АБС. <br>2. Менеджер депозитного отдела отправляет заявку на согласование ставки в кредитный отдел. <br>3. Менеджер кредитного отдела отправляет согласованную заявку в депозитный отдел. <br>4. Менеджер депозитного отдела открывает депозит. <br>5. АБС через СМС-шлюз отправляет клиенту уведомление об открытии депозита. |
### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

|**№**|**Требование**|
| :-: | :- |
| *U*  | *Удобство использования (Usability)* |              
| U1  | Интерфейс работы с системой должен быть максимально удобным |              
| U2  | Интерфейс как сайта, так и интернет-банка должен придерживаться корпоративной системы дизайна и цветовой палитры |             
| U3  | Отклик по всем операциям максимально быстрый |              
| *R*   | *Надёжность (Reliability)*           |              
| R1  | Режим работы 24/7                  |              
| R2  | Доступность системы 99,9%          |              
| *P*   | *Производительность (Performance)*   |              
| P1  | Время отклика по всем операциям как на сайте, так и в интернет-банке - несколько миллисекунд |              
| P2  | Возможность горизонтального масштабирования большинства компонент |              
| *S*   | *Поддерживаемость (Supportability)*  |              
| S1  | Должна быть разработана документация для дальнейшего расширения системы |              
| S2  | Желательна поддержка интеграционного тестирования | 
| *+R*  | *+ Ограничения (Restrictions)*       |              
| +R1 | АБС масштабируется только вертикально |              
| +R2 | Необходимо максимально использовать имеющиеся технологии |              
| +R3 | Новые технологии должны быть совместимы с существующими платформами разработки и иметь экспертизу внутри банка |
| +R4 | Данные, передаваемые с сайта и интернет-банка должны быть защищены механизмом шифрования |              
| +R5 | Сервисы интернет-банка не могут обеспечить требования доступности |              
| +R6 | Перевод системы интернет-банка на микросервисную архитекутур пока может быть осуществлен только частично |              
| +R7 | Интернет-банк не взаимодействует с API АБС напрямую |               
| +R8 | Сайт имеет смысл переводить на микросервисную архитектуру |

### <a name="_qmphm5d6rvi3"></a>**Решение**
Диаграммы контекста и контейнеров представленны в файле Diagrams.drawio, на страницах Context и Containers соответственно.

Выбран подход постепенного перехода на микросервисную архитектуру. В частности, новая функциональность в Интернет-банке выделена в отдельный микросервис.
Для передачи заявок в АБС выбрана технология с использованием очереди сообщений, т.к. требуется управлять нагрузкой на БД АБС, и такое решение поддерживает горизонтальное масштабирование. 
Также через этот канал предполагается пустить заявки из кол-центра.

### <a name="_bjrr7veeh80c"></a>**Альтернативы**
Не переходить на микросервисную архитектуру. Новую функциональность разрабатывать в рамках существующих решений.

**Недостатки, ограничения, риски**

1. Система Интернет-банк имеет монолитную архитектуру, что несет в себе риски масштабирования и сложности разработки.
2. Архаичная двузвенная архитектура АБС позволяет масштабировать систему только вертикально и сильно ограничивает возможности итеграции с ней.

